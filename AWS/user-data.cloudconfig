#cloud-config
repo_update: true

packages:
 - g++
 - git
 - libjackd2-dev
 - qt5-default

runcmd:
 - [ git, clone, "https://github.com/corrados/jamulus.git" ]
 - [ sh, -c, "cd jamulus; qmake \"CONFIG+=nosound\" Jamulus.pro && make clean && make"]
 - [ mv, Jamulus, /usr/local/bin/Jamulus ]
 - [ sudo, useradd, jamulus ]
 - [ sudo, -u, jamulus, /usr/local/bin/Jamulus, -s, -n ]
